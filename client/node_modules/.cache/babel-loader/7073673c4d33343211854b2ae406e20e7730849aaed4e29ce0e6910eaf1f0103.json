{"ast":null,"code":"var _jsxFileName = \"D:\\\\ExpenseTracker\\\\client\\\\src\\\\Components\\\\Auth\\\\PersistLogin.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Outlet } from \"react-router-dom\";\nimport useRefreshToken from \"../../Hooks/useRefreshToken\";\nimport useAuth from \"../../Hooks/useAuth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PersistLogin = () => {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const refresh = useRefreshToken();\n  const {\n    user,\n    persist\n  } = useAuth();\n  useEffect(() => {\n    let isMounted = true;\n    const verifyRefreshToken = async () => {\n      try {\n        await refresh();\n      } catch (err) {} finally {\n        isMounted && setLoading(false);\n      }\n    };\n    !(user !== null && user !== void 0 && user.accessToken) ? verifyRefreshToken() : setLoading(false);\n    return () => isMounted = false;\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: !persist ? /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 19\n    }, this) : loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 37\n    }, this) : /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 55\n    }, this)\n  }, void 0, false);\n};\n_s(PersistLogin, \"u1C2/bYLK7Rem2rIOb8yrFKMiTA=\", false, function () {\n  return [useRefreshToken, useAuth];\n});\n_c = PersistLogin;\nexport default PersistLogin;\nvar _c;\n$RefreshReg$(_c, \"PersistLogin\");","map":{"version":3,"names":["useEffect","useState","Outlet","useRefreshToken","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","PersistLogin","_s","loading","setLoading","refresh","user","persist","isMounted","verifyRefreshToken","err","accessToken","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/ExpenseTracker/client/src/Components/Auth/PersistLogin.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Outlet } from \"react-router-dom\";\r\nimport useRefreshToken from \"../../Hooks/useRefreshToken\";\r\nimport useAuth from \"../../Hooks/useAuth\";\r\n\r\n\r\n\r\nconst PersistLogin=()=>{\r\n    const [loading,setLoading] = useState(true);\r\n    const refresh = useRefreshToken();\r\n    const {user,persist} = useAuth();\r\n\r\n    useEffect(()=>{\r\n        let isMounted=true;\r\n        const verifyRefreshToken = async ()=>{\r\n            try{\r\n                await refresh();\r\n            }\r\n            catch(err){\r\n\r\n            }\r\n            finally{\r\n                isMounted && setLoading(false);\r\n            }\r\n        }\r\n        !user?.accessToken? verifyRefreshToken(): setLoading(false);\r\n        return ()=>isMounted=false;\r\n    },[]);\r\n    return (\r\n        <>\r\n        {!persist?<Outlet/>:loading?<p>Loading...</p>:<Outlet/>}\r\n        </>\r\n    )\r\n} \r\n\r\nexport default PersistLogin;"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,MAAM,QAAQ,kBAAkB;AACzC,OAAOC,eAAe,MAAM,6BAA6B;AACzD,OAAOC,OAAO,MAAM,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAI1C,MAAMC,YAAY,GAACA,CAAA,KAAI;EAAAC,EAAA;EACnB,MAAM,CAACC,OAAO,EAACC,UAAU,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAC3C,MAAMY,OAAO,GAAGV,eAAe,CAAC,CAAC;EACjC,MAAM;IAACW,IAAI;IAACC;EAAO,CAAC,GAAGX,OAAO,CAAC,CAAC;EAEhCJ,SAAS,CAAC,MAAI;IACV,IAAIgB,SAAS,GAAC,IAAI;IAClB,MAAMC,kBAAkB,GAAG,MAAAA,CAAA,KAAU;MACjC,IAAG;QACC,MAAMJ,OAAO,CAAC,CAAC;MACnB,CAAC,CACD,OAAMK,GAAG,EAAC,CAEV,CAAC,SACM;QACHF,SAAS,IAAIJ,UAAU,CAAC,KAAK,CAAC;MAClC;IACJ,CAAC;IACD,EAACE,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEK,WAAW,IAAEF,kBAAkB,CAAC,CAAC,GAAEL,UAAU,CAAC,KAAK,CAAC;IAC3D,OAAO,MAAII,SAAS,GAAC,KAAK;EAC9B,CAAC,EAAC,EAAE,CAAC;EACL,oBACIV,OAAA,CAAAE,SAAA;IAAAY,QAAA,EACC,CAACL,OAAO,gBAACT,OAAA,CAACJ,MAAM;MAAAmB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,GAACb,OAAO,gBAACL,OAAA;MAAAc,QAAA,EAAG;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,gBAAClB,OAAA,CAACJ,MAAM;MAAAmB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC;EAAC,gBACrD,CAAC;AAEX,CAAC;AAAAd,EAAA,CA1BKD,YAAY;EAAA,QAEEN,eAAe,EACRC,OAAO;AAAA;AAAAqB,EAAA,GAH5BhB,YAAY;AA4BlB,eAAeA,YAAY;AAAC,IAAAgB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}